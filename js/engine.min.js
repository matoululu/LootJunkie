function pullJSON(e){allItems=[],weights=[],refinedItems=[],rareItems=[],rareWeights=[],$.ajax({url:"https://raw.githubusercontent.com/Js41637/Overwatch-Item-Tracker/master/data/master.json",dataType:"json",success:function(t){allHeroes=t.heroes,getItems(e),createWeights(refinedItems,weights),createWeights(rareItems,rareWeights)}})}function deleteCards(){$("#crate li").remove(),$("#box").remove()}function displayCrate(){$.each(crate,function(e){var t=crate[e].id,s=t.substr(0,t.indexOf("-"));$("<li/>").addClass(s+" "+crate[e].quality+" shadow animated bounceInDown crate-"+e).appendTo("#crate"),$("<span/>").appendTo(".crate-"+e),$("<p/>").text(crate[e].name+" - "+s+" "+crate[e].type).appendTo(".crate-"+e+" span")}),isRunning=!1}function createWeights(e,t){for(var s=0;s<e.length;s++)"common"==e[s].quality?t.push(59):"rare"==e[s].quality?t.push(32):"epic"==e[s].quality?t.push(7):"legendary"==e[s].quality&&t.push(2)}function getItems(e){var t;"summer2016"==e?t="SUMMER_GAMES":"halloween"==e?t="HALLOWEEN_2016":"winter"==e?t="WINTER_WONDERLAND_2016":"rooster"==e?t="YEAR_OF_THE_ROOSTER_2017":"anniversary"==e?t="ANNIVERSARY_2017":"uprising"==e&&(t="UPRISING_2017");for(var s in allHeroes)if(allHeroes.hasOwnProperty(s)){var a=allHeroes[s].items;allHeroes[s].items.hero=s,allItems.push(a)}for(var n=0;n<allItems.length;n++){if(allItems[n].sprays)for(i=0;i<allItems[n].sprays.length;i++)allItems[n].sprays[i].achievement||allItems[n].sprays[i].standardItem||(allItems[n].sprays[i].type="Spray",allItems[n].sprays[i].event!=t&&allItems[n].sprays[i].event||(refinedItems.push(allItems[n].sprays[i]),"common"!=allItems[n].sprays[i].quality&&rareItems.push(allItems[n].sprays[i])));if(allItems[n].emotes)for(i=0;i<allItems[n].emotes.length;i++)allItems[n].emotes[i].standardItem||(allItems[n].emotes[i].type="Emote",allItems[n].emotes[i].event!=t&&allItems[n].emotes[i].event||(refinedItems.push(allItems[n].emotes[i]),"common"!=allItems[n].emotes[i].quality&&rareItems.push(allItems[n].emotes[i])));if(allItems[n].intros)for(i=0;i<allItems[n].intros.length;i++)allItems[n].intros[i].standardItem||(allItems[n].intros[i].type="Intro",allItems[n].intros[i].event!=t&&allItems[n].intros[i].event||(refinedItems.push(allItems[n].intros[i]),"common"!=allItems[n].intros[i].quality&&rareItems.push(allItems[n].intros[i])));if(allItems[n].poses)for(i=0;i<allItems[n].poses.length;i++)allItems[n].poses[i].standardItem||(allItems[n].poses[i].type="Victory Pose",allItems[n].poses[i].event!=t&&allItems[n].poses[i].event||(refinedItems.push(allItems[n].poses[i]),"common"!=allItems[n].poses[i].quality&&rareItems.push(allItems[n].poses[i])));if(allItems[n].skins)for(i=0;i<allItems[n].skins.length;i++)allItems[n].skins[i].standardItem||(allItems[n].skins[i].type="Skin",allItems[n].skins[i].event!=t&&allItems[n].skins[i].event||(refinedItems.push(allItems[n].skins[i]),"common"!=allItems[n].skins[i].quality&&rareItems.push(allItems[n].skins[i])));if(allItems[n].voicelines)for(var i=0;i<allItems[n].voicelines.length;i++)allItems[n].voicelines[i].standardItem||(allItems[n].voicelines[i].type="Voiceline",allItems[n].voicelines[i].event!=t&&allItems[n].voicelines[i].event||(refinedItems.push(allItems[n].voicelines[i]),"common"!=allItems[n].voicelines[i].quality&&rareItems.push(allItems[n].voicelines[i])))}}var allHeroes=[],allItems=[],refinedItems=[],rareItems=[],isRunning=!1,openSound=new Audio("open-box.ogg"),weights=[],rareWeights=[],randomizedItem=[],crate=[];$.fn.extend({animateCss:function(e){$(this).addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+e)})}}),$(document).ready(function(){pullJSON("standard")}),$(".generate").click(function(){if(0==isRunning){for(isRunning=!0,crate=[],openSound.play(),$("#box, .crate-0, .crate-1, .crate-2, .crate-3").animateCss("bounceOutUp"),setTimeout(deleteCards,950),i=0;i<3;i++)randomizedItem=chance.weighted(refinedItems,weights),crate.push(randomizedItem);randomizedItem=chance.weighted(rareItems,rareWeights),crate.push(randomizedItem),setTimeout(displayCrate,1850),console.log(crate)}}),$(".box-type ul li a").click(function(){$(".box-type ul li a").removeClass("active"),$(this).addClass("active"),pullJSON($(this).attr("id"))}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(0,function(){function e(e){if(null===g){for(var t=e.length,s=0,a=document.getElementById(i),n="<ul>";s<t;)n+="<li>"+e[s]+"</li>",s++;n+="</ul>",a.innerHTML=n}else g(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function s(e){for(var t=e.getElementsByTagName("a"),s=t.length-1;s>=0;s--)t[s].setAttribute("target","_blank")}function a(e,t){for(var s=[],a=new RegExp("(^| )"+t+"( |$)"),n=e.getElementsByTagName("*"),i=0,l=n.length;i<l;i++)a.test(n[i].className)&&s.push(n[i]);return s}function n(e){if(void 0!==e&&e.innerHTML.indexOf("data-srcset")>=0){var t=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(t).split('"')[1]}}var i="",l=20,r=!0,o=[],m=!1,c=!0,d=!0,p=null,u=!0,h=!0,g=null,I=!0,w=!1,f=!0,v=!0,y=!1,b=null,k={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),m)o.push(e);else{m=!0,i=e.domId,l=e.maxTweets,r=e.enableLinks,d=e.showUser,c=e.showTime,h=e.showRetweet,p=e.dateFunction,g=e.customCallback,I=e.showInteraction,w=e.showImages,f=e.linksInNewWindow,v=e.showPermalinks,y=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==b&&t.removeChild(b),(b=document.createElement("script")).type="text/javascript",void 0!==e.list?b.src="https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug="+e.list.listSlug+"&screen_name="+e.list.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.profile?b.src="https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name="+e.profile.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.likes?b.src="https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name="+e.likes.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():b.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=__twttrf.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(b)}},callback:function(i){function g(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}if(void 0===i||void 0===i.body)return m=!1,void(o.length>0&&(k.fetch(o[0]),o.splice(0,1)));i.body=i.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,""),w||(i.body=i.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")),d||(i.body=i.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,""));var b=document.createElement("div");b.innerHTML=i.body,void 0===b.getElementsByClassName&&(u=!1);var T=[],_=[],C=[],x=[],N=[],E=[],A=[],R=0;if(u)for($=b.getElementsByClassName("timeline-Tweet");R<$.length;)$[R].getElementsByClassName("timeline-Tweet-retweetCredit").length>0?N.push(!0):N.push(!1),(!N[R]||N[R]&&h)&&(T.push($[R].getElementsByClassName("timeline-Tweet-text")[0]),E.push($[R].getAttribute("data-tweet-id")),d&&_.push(g($[R].getElementsByClassName("timeline-Tweet-author")[0])),C.push($[R].getElementsByClassName("dt-updated")[0]),A.push($[R].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==$[R].getElementsByClassName("timeline-Tweet-media")[0]?x.push($[R].getElementsByClassName("timeline-Tweet-media")[0]):x.push(void 0)),R++;else for(var $=a(b,"timeline-Tweet");R<$.length;)a($[R],"timeline-Tweet-retweetCredit").length>0?N.push(!0):N.push(!1),(!N[R]||N[R]&&h)&&(T.push(a($[R],"timeline-Tweet-text")[0]),E.push($[R].getAttribute("data-tweet-id")),d&&_.push(g(a($[R],"timeline-Tweet-author")[0])),C.push(a($[R],"dt-updated")[0]),A.push(a($[R],"timeline-Tweet-timestamp")[0]),void 0!==a($[R],"timeline-Tweet-media")[0]?x.push(a($[R],"timeline-Tweet-media")[0]):x.push(void 0)),R++;T.length>l&&(T.splice(l,T.length-l),_.splice(l,_.length-l),C.splice(l,C.length-l),N.splice(l,N.length-l),x.splice(l,x.length-l),A.splice(l,A.length-l));var M=[],R=T.length,L=0;if(y)for(;L<R;)M.push({tweet:T[L].innerHTML,author:_[L]?_[L].innerHTML:"Unknown Author",time:C[L].textContent,timestamp:C[L].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:n(x[L]),rt:N[L],tid:E[L],permalinkURL:void 0===A[L]?"":A[L].href}),L++;else for(;L<R;){if("string"!=typeof p){var H=C[L].getAttribute("datetime"),O=new Date(C[L].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),B=p(O,H);if(C[L].setAttribute("aria-label",B),T[L].textContent)if(u)C[L].textContent=B;else{var S=document.createElement("p"),P=document.createTextNode(B);S.appendChild(P),S.setAttribute("aria-label",B),C[L]=S}else C[L].textContent=B}var W="";r?(f&&(s(T[L]),d&&s(_[L])),d&&(W+='<div class="user">'+t(_[L].innerHTML)+"</div>"),W+='<p class="tweet">'+t(T[L].innerHTML)+"</p>",c&&(W+=v?'<p class="timePosted"><a href="'+A[L]+'">'+C[L].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+C[L].getAttribute("aria-label")+"</p>")):(T[L].textContent,d&&(W+='<p class="user">'+_[L].textContent+"</p>"),W+='<p class="tweet">'+T[L].textContent+"</p>",c&&(W+='<p class="timePosted">'+C[L].textContent+"</p>")),I&&(W+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+E[L]+'" class="twitter_reply_icon"'+(f?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+E[L]+'" class="twitter_retweet_icon"'+(f?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+E[L]+'" class="twitter_fav_icon"'+(f?' target="_blank">':">")+"Favorite</a></p>"),w&&void 0!==x[L]&&void 0!==n(x[L])&&(W+='<div class="media"><img src="'+n(x[L])+'" alt="Image from tweet" /></div>'),w?M.push(W):!w&&T[L].textContent.length&&M.push(W),L++}e(M),m=!1,o.length>0&&(k.fetch(o[0]),o.splice(0,1))}};return window.__twttrf=k,window.twitterFetcher=k,k});var configProfile={profile:{screenName:"lootjunkiexyz"},domId:"alert",maxTweets:1,enableLinks:!0,showUser:!1,showTime:!1,showImages:!1,showRetweet:!1,showInteraction:!1,lang:"en"};twitterFetcher.fetch(configProfile);var configProfileMobile={profile:{screenName:"lootjunkiexyz"},domId:"mobilealert",maxTweets:1,enableLinks:!0,showUser:!0,showTime:!1,showImages:!1,showRetweet:!1,showInteraction:!1,lang:"en"};twitterFetcher.fetch(configProfileMobile);

