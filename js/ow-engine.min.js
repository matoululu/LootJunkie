function pullJSON(e){allItems=[],weights=[],refinedItems=[],rareItems=[],rareWeights=[],$.ajax({url:"https://raw.githubusercontent.com/Js41637/Overwatch-Item-Tracker/master/data/master.json",dataType:"json",success:function(t){allHeroes=t.heroes,getItems(e),createWeights(refinedItems,weights),createWeights(rareItems,rareWeights)}})}function pauseCrate(){$(".generate").attr("disabled","disabled")}function restoreCrate(){$(".generate").removeAttr("disabled")}function deleteCards(){$("#crate li").remove(),$("#box").remove()}function displayCrate(){var e=chance.shuffle(crate);$.each(e,function(t){var s=e[t].id,a=s.substr(0,s.indexOf("-"));$("<li/>").addClass(a+" "+e[t].quality+" shadow animated bounceInDown crate-"+t).appendTo("#crate"),$("<span/>").addClass(e[t].event).appendTo(".crate-"+t),$("<p/>").text(e[t].name+" - "+a+" "+e[t].type).appendTo(".crate-"+t+" span")}),isRunning=!1}function createWeights(e,t){for(var s=0;s<e.length;s++)"common"==e[s].quality?e[s].event==filterType?t.push(354):t.push(59):"rare"==e[s].quality?e[s].event==filterType?t.push(192):t.push(32):"epic"==e[s].quality?e[s].event==filterType?t.push(42):t.push(7):"legendary"==e[s].quality&&(e[s].event==filterType?t.push(12):t.push(2))}function getItems(e){"summer2016"==e?filterType="SUMMER_GAMES":"halloween"==e?filterType="HALLOWEEN":"winter"==e?filterType="WINTER_WONDERLAND":"rooster"==e?filterType="YEAR_OF_THE_ROOSTER_2017":"anniversary"==e?filterType="ANNIVERSARY_2017":"uprising"==e?filterType="UPRISING_2017":"standard"==e&&(filterType="");for(var t in allHeroes)if(allHeroes.hasOwnProperty(t)){var s=allHeroes[t].items;allHeroes[t].items.hero=t,allItems.push(s)}for(var a=0;a<allItems.length;a++){if(allItems[a].sprays)for(n=0;n<allItems[a].sprays.length;n++)allItems[a].sprays[n].achievement||allItems[a].sprays[n].standardItem||(allItems[a].sprays[n].type="Spray",allItems[a].sprays[n].event!=filterType&&allItems[a].sprays[n].event||(refinedItems.push(allItems[a].sprays[n]),"common"!=allItems[a].sprays[n].quality&&rareItems.push(allItems[a].sprays[n])));if(allItems[a].emotes)for(n=0;n<allItems[a].emotes.length;n++)allItems[a].emotes[n].standardItem||(allItems[a].emotes[n].type="Emote",allItems[a].emotes[n].event!=filterType&&allItems[a].emotes[n].event||(refinedItems.push(allItems[a].emotes[n]),"common"!=allItems[a].emotes[n].quality&&rareItems.push(allItems[a].emotes[n])));if(allItems[a].intros)for(n=0;n<allItems[a].intros.length;n++)allItems[a].intros[n].standardItem||(allItems[a].intros[n].type="Intro",allItems[a].intros[n].event!=filterType&&allItems[a].intros[n].event||(refinedItems.push(allItems[a].intros[n]),"common"!=allItems[a].intros[n].quality&&rareItems.push(allItems[a].intros[n])));if(allItems[a].poses)for(n=0;n<allItems[a].poses.length;n++)allItems[a].poses[n].standardItem||(allItems[a].poses[n].type="Victory Pose",allItems[a].poses[n].event!=filterType&&allItems[a].poses[n].event||(refinedItems.push(allItems[a].poses[n]),"common"!=allItems[a].poses[n].quality&&rareItems.push(allItems[a].poses[n])));if(allItems[a].skins)for(n=0;n<allItems[a].skins.length;n++)allItems[a].skins[n].standardItem||(allItems[a].skins[n].type="Skin",allItems[a].skins[n].event!=filterType&&allItems[a].skins[n].event||(refinedItems.push(allItems[a].skins[n]),"common"!=allItems[a].skins[n].quality&&rareItems.push(allItems[a].skins[n])));if(allItems[a].voicelines)for(var n=0;n<allItems[a].voicelines.length;n++)allItems[a].voicelines[n].standardItem||(allItems[a].voicelines[n].type="Voiceline",allItems[a].voicelines[n].event!=filterType&&allItems[a].voicelines[n].event||(refinedItems.push(allItems[a].voicelines[n]),"common"!=allItems[a].voicelines[n].quality&&rareItems.push(allItems[a].voicelines[n])))}}var filterType,allHeroes=[],allItems=[],refinedItems=[],rareItems=[],isRunning=!1,openSound=new Audio("open-box.ogg"),volume=.25,weights=[],rareWeights=[],randomizedItem=[],crate=[];$.fn.extend({animateCss:function(e){$(this).addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("animated "+e)})}}),$(document).ready(function(){pullJSON("standard")}),$(".js-volume").click(function(){$(this).hasClass("is-on")?($(this).text("volume_off").removeClass("is-on").addClass("is-off"),openSound.muted=!0):($(this).text("volume_up").removeClass("is-off").addClass("is-on"),openSound.muted=!1)}),$(".generate").click(function(){if(0==isRunning){for(pauseCrate(),isRunning=!0,crate=[],openSound.volume=volume,openSound.play(),$("#box, .crate-0, .crate-1, .crate-2, .crate-3").animateCss("bounceOutUp"),setTimeout(deleteCards,950),i=0;i<3;i++)randomizedItem=chance.weighted(refinedItems,weights),crate.push(randomizedItem);randomizedItem=chance.weighted(rareItems,rareWeights),crate.push(randomizedItem),setTimeout(displayCrate,2350),setTimeout(restoreCrate,5e3)}}),$(".box-type ul li a").click(function(){$(".box-type ul li a").removeClass("active"),$(this).addClass("active");pullJSON($(this).attr("id"))}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(0,function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e){for(var t=e.getElementsByTagName("a"),s=t.length-1;s>=0;s--)t[s].setAttribute("target","_blank")}function s(e,t){for(var s=[],a=new RegExp("(^| )"+t+"( |$)"),n=e.getElementsByTagName("*"),i=0,l=n.length;i<l;i++)a.test(n[i].className)&&s.push(n[i]);return s}function a(e){if(void 0!==e&&e.innerHTML.indexOf("data-srcset")>=0){var t=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(t).split('"')[1]}}var n="",i=20,l=!0,r=[],o=!1,m=!0,d=!0,c=null,p=!0,u=!0,h=null,f=!0,g=!1,I=!0,w=!0,v=!1,y=null,T={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),o)r.push(e);else{o=!0,n=e.domId,i=e.maxTweets,l=e.enableLinks,d=e.showUser,m=e.showTime,u=e.showRetweet,c=e.dateFunction,h=e.customCallback,f=e.showInteraction,g=e.showImages,I=e.linksInNewWindow,w=e.showPermalinks,v=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==y&&t.removeChild(y),(y=document.createElement("script")).type="text/javascript",void 0!==e.list?y.src="https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug="+e.list.listSlug+"&screen_name="+e.list.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.profile?y.src="https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name="+e.profile.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.likes?y.src="https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name="+e.likes.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():y.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=__twttrf.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(y)}},callback:function(y){function b(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}if(void 0===y||void 0===y.body)return o=!1,void(r.length>0&&(T.fetch(r[0]),r.splice(0,1)));y.body=y.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,""),g||(y.body=y.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")),d||(y.body=y.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,""));var k=document.createElement("div");k.innerHTML=y.body,void 0===k.getElementsByClassName&&(p=!1);var C=[],_=[],x=[],N=[],E=[],$=[],A=[],R=0;if(p)for(M=k.getElementsByClassName("timeline-Tweet");R<M.length;)M[R].getElementsByClassName("timeline-Tweet-retweetCredit").length>0?E.push(!0):E.push(!1),(!E[R]||E[R]&&u)&&(C.push(M[R].getElementsByClassName("timeline-Tweet-text")[0]),$.push(M[R].getAttribute("data-tweet-id")),d&&_.push(b(M[R].getElementsByClassName("timeline-Tweet-author")[0])),x.push(M[R].getElementsByClassName("dt-updated")[0]),A.push(M[R].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==M[R].getElementsByClassName("timeline-Tweet-media")[0]?N.push(M[R].getElementsByClassName("timeline-Tweet-media")[0]):N.push(void 0)),R++;else for(var M=s(k,"timeline-Tweet");R<M.length;)s(M[R],"timeline-Tweet-retweetCredit").length>0?E.push(!0):E.push(!1),(!E[R]||E[R]&&u)&&(C.push(s(M[R],"timeline-Tweet-text")[0]),$.push(M[R].getAttribute("data-tweet-id")),d&&_.push(b(s(M[R],"timeline-Tweet-author")[0])),x.push(s(M[R],"dt-updated")[0]),A.push(s(M[R],"timeline-Tweet-timestamp")[0]),void 0!==s(M[R],"timeline-Tweet-media")[0]?N.push(s(M[R],"timeline-Tweet-media")[0]):N.push(void 0)),R++;C.length>i&&(C.splice(i,C.length-i),_.splice(i,_.length-i),x.splice(i,x.length-i),E.splice(i,E.length-i),N.splice(i,N.length-i),A.splice(i,A.length-i));var L=[],R=C.length,S=0;if(v)for(;S<R;)L.push({tweet:C[S].innerHTML,author:_[S]?_[S].innerHTML:"Unknown Author",time:x[S].textContent,timestamp:x[S].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:a(N[S]),rt:E[S],tid:$[S],permalinkURL:void 0===A[S]?"":A[S].href}),S++;else for(;S<R;){if("string"!=typeof c){var H=x[S].getAttribute("datetime"),O=new Date(x[S].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),B=c(O,H);if(x[S].setAttribute("aria-label",B),C[S].textContent)if(p)x[S].textContent=B;else{var P=document.createElement("p"),W=document.createTextNode(B);P.appendChild(W),P.setAttribute("aria-label",B),x[S]=P}else x[S].textContent=B}var q="";l?(I&&(t(C[S]),d&&t(_[S])),d&&(q+='<div class="user">'+e(_[S].innerHTML)+"</div>"),q+='<p class="tweet">'+e(C[S].innerHTML)+"</p>",m&&(q+=w?'<p class="timePosted"><a href="'+A[S]+'">'+x[S].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+x[S].getAttribute("aria-label")+"</p>")):(C[S].textContent,d&&(q+='<p class="user">'+_[S].textContent+"</p>"),q+='<p class="tweet">'+C[S].textContent+"</p>",m&&(q+='<p class="timePosted">'+x[S].textContent+"</p>")),f&&(q+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+$[S]+'" class="twitter_reply_icon"'+(I?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+$[S]+'" class="twitter_retweet_icon"'+(I?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+$[S]+'" class="twitter_fav_icon"'+(I?' target="_blank">':">")+"Favorite</a></p>"),g&&void 0!==N[S]&&void 0!==a(N[S])&&(q+='<div class="media"><img src="'+a(N[S])+'" alt="Image from tweet" /></div>'),g?L.push(q):!g&&C[S].textContent.length&&L.push(q),S++}!function(e){if(null===h){for(var t=e.length,s=0,a=document.getElementById(n),i="<ul>";s<t;)i+="<li>"+e[s]+"</li>",s++;i+="</ul>",a.innerHTML=i}else h(e)}(L),o=!1,r.length>0&&(T.fetch(r[0]),r.splice(0,1))}};return window.__twttrf=T,window.twitterFetcher=T,T});var configProfile={profile:{screenName:"lootjunkiexyz"},domId:"alert",maxTweets:1,enableLinks:!0,showUser:!1,showTime:!1,showImages:!1,showRetweet:!1,showInteraction:!1,lang:"en"};twitterFetcher.fetch(configProfile);var configProfileMobile={profile:{screenName:"lootjunkiexyz"},domId:"mobilealert",maxTweets:1,enableLinks:!0,showUser:!0,showTime:!1,showImages:!1,showRetweet:!1,showInteraction:!1,lang:"en"};twitterFetcher.fetch(configProfileMobile);